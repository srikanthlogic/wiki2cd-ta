<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Featured Pics</title>
    <script type="text/javascript" src="scripts/descriptions.js"></script>
    <script type="text/javascript" src="scripts/jquery-1.6.1.min.js"></script>
    <script type="text/javascript" src="scripts/jquery-ui-1.8.18.custom.min.js"></script>
    <link rel="stylesheet" href="styles/picviewer.css" />
    <link rel="stylesheet" href="styles/sunny/jquery-ui-1.8.18.custom.css" />
</head>
<body>
    <div id="container">
        <div id="bannerdiv" class="trace">
        <h1>விக்கிப்பீடியா சிறப்பு படங்கள்</h1>
            <div id="home">
                <button id="homebtn" onclick="window.location = '../index.html';">
                <img src="images/home.png" alt="முகப்பு" ><span>முகப்பு</span></button>
            </div>
        </div>
        <div id="viewer">
            <span></span>
            <img id="fimage" src="" alt="Image Gallery"/>
        </div>
        <div id="desc">
            <div id="buttons">
                <div id="pre_btn" class="ui-state-default ui-corner-all navi"><span class="ui-icon ui-icon-arrowthick-1-w" style="float: left; margin-left: 5%;"></span>முந்தைய படம்</div>
                <div id="next_btn" class="ui-state-default ui-corner-all navi">அடுத்த படம்<span class="ui-icon ui-icon-arrowthick-1-e" style="float: right; margin-right: 5%;"></span>
                </div>
            </div>
            <div class="ui-widget ui-corner-all ui-widget-content" style="padding: 10px;">
            	<div id="snippet" class="ui-dialog-content ui-widget-content" style="border: 0; background: none;"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $("#viewer").height($(window).height() - 58 );
        $("#snippet").css({ "min-height" : $(window).height() - 120 });
        function loadImageAt( position ){
            $("#viewer img").fadeOut('slow', function(){
                    // TODO The following line has to change according to the descriptions.js file
                    $(this).attr("src", "featured/"+descriptions[position].fileno+".png").fadeIn('slow');
                    });
            $("#snippet").empty().append(descriptions[position].content).find("a").attr("href", "#");
        }
        var count = 0;
        // Initialize
        loadImageAt( count )
        // TODO Update the Picture counts
        // Previous Button
        $("#pre_btn").click(function(){
            count -= 1;
            if( count < 0 ){
                count = 5;
            }
            loadImageAt( count );
        });

        // Next Button
        $("#next_btn").click(function(){
            count += 1;
            if( count > 5 ){
                count = 0;
            }
            loadImageAt( count );
        });
        
        //Hover effect
        $("#next_btn,#pre_btn").hover( 
        	function(){ $(this).addClass("ui-state-hover"); }, 
        	function(){ $(this).removeClass("ui-state-hover"); });
        	
    </script>
</body>
</html>
